<main>
    <button class="sort-bttn" (click)="toggleSortOrder()">
        Sort by date <span *ngIf="isAscending()">▲</span><span *ngIf="!isAscending()">▼</span>
    </button>

    <div class="list">
    @for (ride of ridesWithAddresses; track ride.id) { 
        <div class="ride-card">
            <div class="ride-header">
                <div class="ride-info">
                    <div class="time-info">
                        <!-- Clock icon -->
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        <span>{{ride.statingTime | date:'dd.MM.yyyy hh:mm a'}}</span>
                    </div>
                    <div class="driver-info">
                        <!-- Car icon -->
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 17h14v4H5v-4z"/>
                            <path d="M3 11l2-6h14l2 6v6H3v-6z"/>
                            <circle cx="7.5" cy="17" r="1.5"/>
                            <circle cx="16.5" cy="17" r="1.5"/>
                        </svg>
                        <span>{{ride.driver}}</span>
                    </div>
                </div>
                <!-- Heart icon -->
                <svg class="favorite-icon" [class.favorited]="ride.isFavouriteRoute" (click)="addRouteToFavourites($event)" [attr.data-ride-id]="ride.id" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
            </div>

            <div class="ride-details">
                <div class="locations">
                    <div class="location">
                        <div class="location-header">
                            <!-- Location pin icon -->
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="10" r="3"/>
                                <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"/>
                            </svg>
                            <span>Pickup</span>
                        </div>
                        <div class="location-address">
                            {{ride.pickupAddress}}
                        </div>
                    </div>

                    <div class="location">
                        <div class="location-header">
                            <!-- Location pin icon -->
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="10" r="3"/>
                                <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"/>
                            </svg>
                            <span>Dropoff</span>
                        </div>
                        <div class="location-address">
                            {{ride.dropoffAddress}}
                        </div>
                    </div>
                </div>

                <div class="price">{{ride.price}} RSD</div>
            </div>
        </div>
        
    }
    </div>
</main>